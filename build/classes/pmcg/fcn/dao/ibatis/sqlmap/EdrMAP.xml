<?xml version="1.0" encoding="UTF-8"?> 
 <!DOCTYPE sqlMap PUBLIC "//iBATIS.com//DTD SQL Map 2.0//EN" "HTTP://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="Edr">
	<typeAlias alias="EdrVO" type="pmcg.fcn.domain.EdrVO" />


	<resultMap id="mapComplexQuerySimple" class="EdrVO">
		<result property="iddedr" column="iddedr" />
		<result property="tipedr" column="tipedr" />
		<result property="nloedr" column="nloedr" />
		<result property="cepedr" column="cepedr" />
		<result property="munedr" column="munedr" />
		<result property="uffedr" column="uffedr" />
		<result property="eexedr" column="eexedr" />
		<result property="paiedr" column="paiedr" />
		<result property="numedr" column="numedr" />
		<result property="comedr" column="comedr" />
		<result property="baiedr" column="baiedr" />
		<result property="tloedr" column="tloedr" />
		<result property="tbaedr" column="tbaedr" />
	</resultMap>

	<resultMap id="mapComplexQuery" class="EdrVO">
		<result property="iddedr" column="iddedr" />
		<result property="tipedr" column="tipedr" />
		<result property="nloedr" column="nloedr" />
		<result property="cepedr" column="cepedr" />
		<result property="munedr" column="munedr" />
		<result property="uffedr" column="uffedr" />
		<result property="eexedr" column="eexedr" />
		<result property="paiedr" column="paiedr" />
		<result property="numedr" column="numedr" />
		<result property="comedr" column="comedr" />
		<result property="baiedr" column="baiedr" />
		<result property="tloedr" column="tloedr" />
		<result property="tbaedr" column="tbaedr" />
	</resultMap>

	<select id="getRegByCod" parameterClass="Long" resultMap="mapComplexQuerySimple">
		SELECT * FROM fcn.fcnedr WHERE iddedr = #value:NUMERIC#
	</select>

	<select id="getRegByCodComplex" parameterClass="Long" resultMap="mapComplexQuery">
		SELECT * FROM fcn.fcnedr WHERE iddedr = #value:NUMERIC#
	</select>

	<select id="getRegByCriterio" parameterClass="EdrVO"
		resultMap="mapComplexQuerySimple">
		SELECT * FROM fcn.fcnedr
		<dynamic prepend=" WHERE ">
			<isNotNull property="iddedr" prepend=" AND ">
				iddedr = #iddedr:NUMERIC#
			</isNotNull>
			<isNotNull property="tipedr" prepend=" AND ">
				tipedr ILIKE '%' || #tipedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="nloedr" prepend=" AND ">
				nloedr ILIKE '%' || #nloedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="cepedr" prepend=" AND ">
				cepedr ILIKE '%' || #cepedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="munedr" prepend=" AND ">
				munedr = #munedr:VARCHAR#
			</isNotNull>
			<isNotNull property="uffedr" prepend=" AND ">
				uffedr ILIKE '%' || #uffedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="eexedr" prepend=" AND ">
				eexedr ILIKE '%' || #eexedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="paiedr" prepend=" AND ">
				paiedr = #paiedr:NUMERIC#
			</isNotNull>
			<isNotNull property="numedr" prepend=" AND ">
				numedr ILIKE '%' || #numedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="comedr" prepend=" AND ">
				comedr ILIKE '%' || #comedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="baiedr" prepend=" AND ">
				baiedr ILIKE '%' || #baiedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="tloedr" prepend=" AND ">
				tloedr ILIKE '%' || #tloedr:VARCHAR# || '%'
			</isNotNull>
		</dynamic>
	</select>

	<select id="getRegByCriterioComplex" parameterClass="EdrVO"
		resultMap="mapComplexQuery">
		SELECT * FROM fcn.fcnedr
		<dynamic prepend=" WHERE ">
			<isNotNull property="iddedr" prepend=" AND "> iddedr =
				#iddedr:NUMERIC#
			</isNotNull>
			<isNotNull property="tipedr" prepend=" AND ">
				tipedr ILIKE '%' || #tipedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="nloedr" prepend=" AND ">
				nloedr ILIKE '%' || #nloedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="cepedr" prepend=" AND ">
				cepedr ILIKE '%' || #cepedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="munedr" prepend=" AND "> munedr =
				#munedr:VARCHAR#
			</isNotNull>
			<isNotNull property="uffedr" prepend=" AND ">
				uffedr ILIKE '%' || #uffedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="eexedr" prepend=" AND ">
				eexedr ILIKE '%' || #eexedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="paiedr" prepend=" AND "> paiedr =
				#paiedr:NUMERIC#
			</isNotNull>
			<isNotNull property="numedr" prepend=" AND ">
				numedr ILIKE '%' || #numedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="comedr" prepend=" AND ">
				comedr ILIKE '%' || #comedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="baiedr" prepend=" AND ">
				baiedr ILIKE '%' || #baiedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="tloedr" prepend=" AND ">
				tloedr ILIKE '%' || #tloedr:VARCHAR# || '%'
			</isNotNull>
		</dynamic>
	</select>

	<select id="getTodos" resultMap="mapComplexQuerySimple">
		SELECT * FROM fcn.fcnedr
	</select>

	<insert id="insReg" parameterClass="EdrVO">
		<selectKey keyProperty="iddedr" resultClass="Long">
			SELECT NEXTVAL('fcn.seqedr')
		</selectKey>
		INSERT INTO
		fcn.fcnedr(iddedr,tipedr,nloedr,cepedr,munedr,uffedr,eexedr,paiedr,numedr,comedr,baiedr,tloedr,tbaedr)
		VALUES (#iddedr:NUMERIC#, UPPER(#tipedr:VARCHAR#),
		UPPER(#nloedr:VARCHAR#), UPPER(#cepedr:VARCHAR#),
		#munedr:VARCHAR#,
		UPPER(#uffedr:VARCHAR#), UPPER(#eexedr:VARCHAR#),#paiedr:NUMERIC#,
		UPPER(#numedr:VARCHAR#), UPPER(#comedr:VARCHAR#),
		UPPER(#baiedr:VARCHAR#), UPPER(#tloedr:VARCHAR#), UPPER(#tbaedr:VARCHAR#) )
	</insert>

	<update id="updRegByCod" parameterClass="EdrVO">
		UPDATE fcn.fcnedr SET tipedr= UPPER(#tipedr:VARCHAR#),nloedr=
		UPPER(#nloedr:VARCHAR#),cepedr= UPPER(#cepedr:VARCHAR#),munedr=
		#munedr:VARCHAR#,uffedr= UPPER(#uffedr:VARCHAR#),eexedr=
		UPPER(#eexedr:VARCHAR#),paiedr= #paiedr:NUMERIC#,numedr=
		UPPER(#numedr:VARCHAR#),comedr= UPPER(#comedr:VARCHAR#),baiedr=
		UPPER(#baiedr:VARCHAR#),tloedr= UPPER(#tloedr:VARCHAR#),
		tbaedr = UPPER(#tbaedr:VARCHAR#)
		WHERE iddedr =
		#iddedr:NUMERIC#
	</update>
	<delete id="delByCod" parameterClass="Long">
		DELETE FROM fcn.fcnedr WHERE iddedr = #value:NUMERIC#
	</delete>
	<delete id="delByCodigos" parameterClass="String">
		DELETE FROM fcn.fcnedr WHERE iddedr in ($value$)
	</delete>

	<select id="getCountByCriterio" parameterClass="EdrVO"
		resultClass="Integer">
		SELECT count(iddedr) FROM fcn.fcnedr
		<dynamic prepend=" WHERE ">
			<isNotNull property="iddedr" prepend=" AND "> iddedr =
				#iddedr:NUMERIC#
			</isNotNull>
			<isNotNull property="tipedr" prepend=" AND ">
				tipedr ILIKE '%' || #tipedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="nloedr" prepend=" AND ">
				nloedr ILIKE '%' || #nloedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="cepedr" prepend=" AND ">
				cepedr ILIKE '%' || #cepedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="munedr" prepend=" AND "> munedr =
				#munedr:VARCHAR#
			</isNotNull>
			<isNotNull property="uffedr" prepend=" AND ">
				uffedr ILIKE '%' || #uffedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="eexedr" prepend=" AND ">
				eexedr ILIKE '%' || #eexedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="paiedr" prepend=" AND "> paiedr =
				#paiedr:NUMERIC#
			</isNotNull>
			<isNotNull property="numedr" prepend=" AND ">
				numedr ILIKE '%' || #numedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="comedr" prepend=" AND ">
				comedr ILIKE '%' || #comedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="baiedr" prepend=" AND ">
				baiedr ILIKE '%' || #baiedr:VARCHAR# || '%'
			</isNotNull>
			<isNotNull property="tloedr" prepend=" AND ">
				tloedr ILIKE '%' || #tloedr:VARCHAR# || '%'
			</isNotNull>
		</dynamic>
	</select>
</sqlMap> 
 